{% extends "taxlover/base.html" %}
{% load tax_extras %}
{% block content %}
    <div class="container px-0">
        <div class="row gx-3">
            <div class="col">
                <div class="accordion" id="accordionLeftAssets">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingOne">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseOne"
                                    aria-expanded="true" aria-controls="collapseOne">
                                {% if assets_dto.has_business_capital or assets_dto.has_no_business_capital %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px;"></i></span>
                                {% endif %}
                                Business Capital
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="If taxpayer have any business than closing balance of the business capital will mention here."></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne"
                             data-bs-parent="#accordionLeftAssets">
                            <div class="accordion-body hor-align-center">
                                <strong>Do you have any business capital?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="businessCapitalYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "business_capital" "yes" %}'" {{ assets_dto.has_business_capital }}>
                                    <label class="btn btn-outline-success" for="businessCapitalYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="businessCapitalNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "business_capital" "no" %}'" {{ assets_dto.has_no_business_capital }}>
                                    <label class="btn btn-outline-success" for="businessCapitalNoBtn">No</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwo">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                {% if assets_dto.has_directors_shareholding_assets or assets_dto.has_no_directors_shareholding_assets %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px"></i></span>
                                {% endif %}
                                Director's Shareholding Assets
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="This refers the purchase cost of the share of director shareholding in limited company."></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                             data-bs-parent="#accordionLeftAssets">
                            <div class="accordion-body hor-align-center">
                                <strong>Do you have any shareholding company assets?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="directorsShareholdingAssetsYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "directors_shareholding_assets" "yes" %}'" {{ assets_dto.has_directors_shareholding_assets }}>
                                    <label class="btn btn-outline-success"
                                           for="directorsShareholdingAssetsYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="directorsShareholdingAssetsNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "directors_shareholding_assets" "no" %}'" {{ assets_dto.has_no_directors_shareholding_assets }}>
                                    <label class="btn btn-outline-success"
                                           for="directorsShareholdingAssetsNoBtn">No</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingThree">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                {% if assets_dto.has_non_agricultural_property or assets_dto.has_no_non_agricultural_property %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px"></i></span>
                                {% endif %}
                                Non-Agricultural Property
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="This refers the purchase cost of the non agricultural property with legal expense."></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
                             data-bs-parent="#accordionLeftAssets">
                            <div class="accordion-body hor-align-center">
                                <strong>Do you have any non-agricultural property?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="rentalPropertyYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "non_agricultural_property" "yes" %}'" {{ assets_dto.has_non_agricultural_property }}>
                                    <label class="btn btn-outline-success" for="rentalPropertyYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="rentalPropertyNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "non_agricultural_property" "no" %}'" {{ assets_dto.has_no_non_agricultural_property }}>
                                    <label class="btn btn-outline-success" for="rentalPropertyNoBtn">No</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingFour">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                {% if assets_dto.has_agricultural_property or assets_dto.has_no_agricultural_property %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px"></i></span>
                                {% endif %}
                                Agricultural Property
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="This refers the purchase cost of the agricultural property with legal expense."></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour"
                             data-bs-parent="#accordionLeftAssets">
                            <div class="accordion-body hor-align-center">
                                <strong>Do you have any agricultural property?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="agricultureYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "agricultural_property" "yes" %}'" {{ assets_dto.has_agricultural_property }}>
                                    <label class="btn btn-outline-success" for="agricultureYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="agricultureNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "agricultural_property" "no" %}'" {{ assets_dto.has_no_agricultural_property }}>
                                    <label class="btn btn-outline-success" for="agricultureNoBtn">No</label>
                                </div>
                                {% if assets_dto.has_agricultural_property %}
                                    <div style="padding-top: 20px">
                                        <table class="table table-striped table-bordered">
                                            <thead>
                                            <tr>
                                                <th scope="col">#</th>
                                                <th scope="col">Description</th>
                                                <th scope="col">Value</th>
                                                <th scope="col"></th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            {% for property in assets_dto.agricultural_properties %}
                                                <tr>
                                                    <th scope="row">{{ forloop.counter }}</th>
                                                    <td>{{ property.get_description }}</td>
                                                    <td>{{ property.get_value|format_decimal }}</td>
                                                    <td>
                                                        <a href="javascript:void(0)"
                                                           onclick="getDataForEdit('agricultural_property', '{{ property.id }}')">
                                                            <i class="bi bi-pencil-square"
                                                               style="color: #2ca01c; padding-right: 5px; font-size: 1.2rem"></i></a>
                                                        <a href="#" data-bs-toggle="modal"
                                                           onclick="getDataForDelete('agricultural_property', '{{ property.id }}')"
                                                           data-bs-target="#agriculturalPropertyStaticBackdrop">
                                                            <i class="bi bi-trash"
                                                               style="color: red; padding-left: 5px; font-size: 1.2rem"></i></a>
                                                        <!-- Modal -->
                                                        <div class="modal fade" id="agriculturalPropertyStaticBackdrop"
                                                             data-bs-backdrop="static"
                                                             data-bs-keyboard="false" tabindex="-1"
                                                             aria-labelledby="staticBackdropLabel" aria-hidden="true">
                                                            <div class="modal-dialog modal-dialog-centered">
                                                                <div class="modal-content">
                                                                    <div class="modal-header">
                                                                        <h5 class="modal-title"
                                                                            id="staticBackdropLabel">Delete
                                                                            Agricultural Property</h5>
                                                                        <button type="button" class="btn-close"
                                                                                data-bs-dismiss="modal"
                                                                                aria-label="Close"></button>
                                                                    </div>
                                                                    <form action="{% url 'agricultural-property-delete' %}"
                                                                          method="POST">
                                                                        {% csrf_token %}
                                                                        <input type="hidden"
                                                                               id="agricultural_property_id_for_delete"
                                                                               name="agricultural_property_id_for_delete">
                                                                        <div class="modal-body"
                                                                             style="text-align: left">
                                                                            Are you sure you want to delete the
                                                                            agricultural property?
                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button"
                                                                                    class="btn btn-secondary"
                                                                                    data-bs-dismiss="modal">Cancel
                                                                            </button>
                                                                            <button type="submit"
                                                                                    class="btn btn-primary">
                                                                                Delete
                                                                            </button>
                                                                        </div>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                            {% endfor %}
                                            <tr>
                                                <form method="post"
                                                      action="{% url 'save-agricultural-property' %}">
                                                    {% csrf_token %}
                                                    <input type="hidden" id="agricultural_property_id" name="agricultural_property_id">
                                                    <td></td>
                                                    <td>{{ ap_form.description }}</td>
                                                    <td>{{ ap_form.value }}</td>
                                                    <td>
                                                        <button type="submit" class="btn btn-primary"
                                                                id="agriculturalPropertySaveBtn">Save
                                                        </button>
                                                    </td>
                                                </form>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingFive">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                {% if assets_dto.has_business or assets_dto.has_no_business %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px"></i></span>
                                {% endif %}
                                Business Income
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="Income from business and profession includes the annual net income received for any business or profession."></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive"
                             data-bs-parent="#accordionLeftAssets">
                            <div class="accordion-body hor-align-center">
                                <strong>Do you have any Business or Profession income?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="businessYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "business" "yes" %}'" {{ assets_dto.has_business }}>
                                    <label class="btn btn-outline-success" for="businessYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="businessNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "business" "no" %}'" {{ assets_dto.has_no_business }}>
                                    <label class="btn btn-outline-success" for="businessNoBtn">No</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingSix">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
                                {% if assets_dto.has_share_of_profit_in_firm or assets_dto.has_no_share_of_profit_in_firm %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px"></i></span>
                                {% endif %}
                                Share Of Profit In Firm
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="Share of profit in a firm includes the annual income you received from a business that you have full or part ownership in. This does not refer to the sale of shares or other securities or dividends."></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseSix" class="accordion-collapse collapse" aria-labelledby="headingSix"
                             data-bs-parent="#accordionLeftAssets">
                            <div class="accordion-body hor-align-center">
                                <strong>Do you have any share of firm profit?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="shareOfProfitInFirmYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "share_of_profit_in_firm" "yes" %}'" {{ assets_dto.has_share_of_profit_in_firm }}>
                                    <label class="btn btn-outline-success" for="shareOfProfitInFirmYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="shareOfProfitInFirmNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "share_of_profit_in_firm" "no" %}'" {{ assets_dto.has_no_share_of_profit_in_firm }}>
                                    <label class="btn btn-outline-success" for="shareOfProfitInFirmNoBtn">No</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingSeven">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseSeven" aria-expanded="false" aria-controls="collapseSeven">
                                {% if assets_dto.has_spouse_or_child or assets_dto.has_no_spouse_or_child %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px"></i></span>
                                {% endif %}
                                Spouse/Child Income
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="If any tax payer's minor child or spouse have no TIN but income occurs from there own asset or capital and its not like joint or family return."></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseSeven" class="accordion-collapse collapse" aria-labelledby="headingSeven"
                             data-bs-parent="#accordionLeftAssets">
                            <div class="accordion-body hor-align-center">
                                <strong>Do you have any spouse or minor child income ?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="spouseOrChildYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "spouse_or_child" "yes" %}'" {{ assets_dto.has_spouse_or_child }}>
                                    <label class="btn btn-outline-success" for="spouseOrChildYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="spouseOrChildNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "spouse_or_child" "no" %}'" {{ assets_dto.has_no_spouse_or_child }}>
                                    <label class="btn btn-outline-success" for="spouseOrChildNoBtn">No</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="accordion" id="accordionRightIncome">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingEight">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseEight" aria-expanded="false" aria-controls="collapseEight">
                                {% if assets_dto.has_capital_gains or assets_dto.has_no_capital_gains %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px"></i></span>
                                {% endif %}
                                Capital Gains
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="Any profits and gains arising from the transfer of a capital asset and such profits and gains shall be deemed to be the income of the income year."></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseEight" class="accordion-collapse collapse" aria-labelledby="headingEight"
                             data-bs-parent="#accordionRightIncome">
                            <div class="accordion-body hor-align-center">
                                <strong>Do you have any income from capital gain?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="capitalGainsYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "capital_gains" "yes" %}'" {{ assets_dto.has_capital_gains }}>
                                    <label class="btn btn-outline-success" for="capitalGainsYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="capitalGainsNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "capital_gains" "no" %}'" {{ assets_dto.has_no_capital_gains }}>
                                    <label class="btn btn-outline-success" for="capitalGainsNoBtn">No</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingNine">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseNine" aria-expanded="false" aria-controls="collapseNine">
                                {% if assets_dto.has_other_sources or assets_dto.has_no_other_sources %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px"></i></span>
                                {% endif %}
                                Other Sources Of Income
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="Income from other sources like: Interest on Bank deposit, Cash Dividend, Royalties, Fees for technical service, Other income."></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseNine" class="accordion-collapse collapse" aria-labelledby="headingNine"
                             data-bs-parent="#accordionRightIncome">
                            <div class="accordion-body hor-align-center">
                                <strong>Do you have any income from other sources?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="otherSourcesYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "other_sources" "yes" %}'" {{ assets_dto.has_other_sources }}>
                                    <label class="btn btn-outline-success" for="otherSourcesYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="otherSourcesNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "other_sources" "no" %}'" {{ assets_dto.has_no_other_sources }}>
                                    <label class="btn btn-outline-success" for="otherSourcesNoBtn">No</label>
                                </div>
                                {% if assets_dto.otherIncomeId and assets_dto.has_other_sources %}
                                    <div style="padding-top: 20px">
                                        <table class="table table-striped table-bordered">
                                            <thead>
                                            <tr>
                                                <th scope="col">#</th>
                                                <th scope="col">Income Year</th>
                                                <th scope="col">Exempted<br/>Other Income</th>
                                                <th scope="col">Total<br/>Other Income</th>
                                                <th scope="col"></th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <th scope="row">1</th>
                                                <td>{{ assets_dto.income_year_beg }}-{{ assets_dto.income_year_end }}</td>
                                                <td>{{ assets_dto.total_exempted_other_income|format_decimal }}</td>
                                                <td>{{ assets_dto.total_other_income|format_decimal }}</td>
                                                <td>
                                                    <a href="{% url "other-income" %}">
                                                        <i class="bi bi-pencil-square"
                                                           style="color: #2ca01c; padding-right: 5px; font-size: 1.2rem"></i></a>
                                                    <a href="#" data-bs-toggle="modal"
                                                       data-bs-target="#otherIncomeStaticBackdrop">
                                                        <i class="bi bi-trash"
                                                           style="color: red; padding-left: 5px; font-size: 1.2rem"></i></a>
                                                    <!-- Modal -->
                                                    <div class="modal fade" id="otherIncomeStaticBackdrop"
                                                         data-bs-backdrop="static"
                                                         data-bs-keyboard="false" tabindex="-1"
                                                         aria-labelledby="staticBackdropLabel" aria-hidden="true">
                                                        <div class="modal-dialog modal-dialog-centered">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h5 class="modal-title" id="staticBackdropLabel">
                                                                        Delete
                                                                        Other Sources Of Income</h5>
                                                                    <button type="button" class="btn-close"
                                                                            data-bs-dismiss="modal"
                                                                            aria-label="Close"></button>
                                                                </div>
                                                                <form action="{% url 'other_income_delete' assets_dto.otherIncomeId %}"
                                                                      method="POST">
                                                                    {% csrf_token %}
                                                                    <div class="modal-body" style="text-align: left">
                                                                        Are you sure you want to delete the other
                                                                        sources of income?
                                                                    </div>
                                                                    <div class="modal-footer">
                                                                        <button type="button" class="btn btn-secondary"
                                                                                data-bs-dismiss="modal">Cancel
                                                                        </button>
                                                                        <button type="submit" class="btn btn-primary">
                                                                            Delete
                                                                        </button>
                                                                    </div>
                                                                </form>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="5">
                                                    Total Taxable Other Income
                                                    = {{ assets_dto.total_other_income_taxable|format_decimal }} BDT
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTen">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseTen" aria-expanded="false" aria-controls="collapseTen">
                                {% if assets_dto.has_foreign_income or assets_dto.has_no_foreign_income %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px"></i></span>
                                {% endif %}
                                Foreign Income
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="Income received from foreign source, example: wages if you work abroad, foreign investments and savings interest, rental income on overseas property"></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseTen" class="accordion-collapse collapse" aria-labelledby="headingTen"
                             data-bs-parent="#accordionRightIncome">
                            <div class="accordion-body hor-align-center">
                                <strong>Do you have any foreign income?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="foreignIncomeYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "foreign_income" "yes" %}'" {{ assets_dto.has_foreign_income }}>
                                    <label class="btn btn-outline-success" for="foreignIncomeYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="foreignIncomeNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "foreign_income" "no" %}'" {{ assets_dto.has_no_foreign_income }}>
                                    <label class="btn btn-outline-success" for="foreignIncomeNoBtn">No</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingEleven">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseEleven" aria-expanded="false"
                                    aria-controls="collapseEleven">
                                {% if assets_dto.has_tax_rebate or assets_dto.has_no_tax_rebate %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px"></i></span>
                                {% endif %}
                                Tax Rebate
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="Exemption of amount of tax payable  for investment some recognized field."></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseEleven" class="accordion-collapse collapse" aria-labelledby="headingEleven"
                             data-bs-parent="#accordionRightIncome">
                            <div class="accordion-body hor-align-center">
                                <strong>Did you invest in any tax deductible investments?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="taxRebateYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "tax_rebate" "yes" %}'" {{ assets_dto.has_tax_rebate }}>
                                    <label class="btn btn-outline-success" for="taxRebateYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="taxRebateNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "tax_rebate" "no" %}'" {{ assets_dto.has_no_tax_rebate }}>
                                    <label class="btn btn-outline-success" for="taxRebateNoBtn">No</label>
                                </div>
                                {% if assets_dto.taxRebateId and assets_dto.has_tax_rebate %}
                                    <div style="padding-top: 20px">
                                        <table class="table table-striped table-bordered">
                                            <thead>
                                            <tr>
                                                <th scope="col">#</th>
                                                <th scope="col">Income Year</th>
                                                <th scope="col">Total Invested Amount</th>
                                                <th scope="col"></th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <th scope="row">1</th>
                                                <td>{{ assets_dto.income_year_beg }}-{{ assets_dto.income_year_end }}</td>
                                                <td>{{ assets_dto.total_invested_amount|format_decimal }}</td>
                                                <td>
                                                    <a href="{% url 'tax_rebate' %}">
                                                        <i class="bi bi-pencil-square"
                                                           style="color: #2ca01c; padding-right: 5px; font-size: 1.2rem"></i></a>
                                                    <a href="#" data-bs-toggle="modal"
                                                       data-bs-target="#taxRebateStaticBackdrop">
                                                        <i class="bi bi-trash"
                                                           style="color: red; padding-left: 5px; font-size: 1.2rem"></i></a>
                                                    <!-- Modal -->
                                                    <div class="modal fade" id="taxRebateStaticBackdrop"
                                                         data-bs-backdrop="static"
                                                         data-bs-keyboard="false" tabindex="-1"
                                                         aria-labelledby="staticBackdropLabel" aria-hidden="true">
                                                        <div class="modal-dialog modal-dialog-centered">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h5 class="modal-title" id="staticBackdropLabel">
                                                                        Delete
                                                                        Tax Rebate</h5>
                                                                    <button type="button" class="btn-close"
                                                                            data-bs-dismiss="modal"
                                                                            aria-label="Close"></button>
                                                                </div>
                                                                <form action="{% url 'tax_rebate_delete' assets_dto.taxRebateId %}"
                                                                      method="POST">
                                                                    {% csrf_token %}
                                                                    <div class="modal-body" style="text-align: left">
                                                                        Are you sure you want to delete the tax rebate?
                                                                    </div>
                                                                    <div class="modal-footer">
                                                                        <button type="button" class="btn btn-secondary"
                                                                                data-bs-dismiss="modal">Cancel
                                                                        </button>
                                                                        <button type="submit" class="btn btn-primary">
                                                                            Delete
                                                                        </button>
                                                                    </div>
                                                                </form>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="5">
                                                    Total Allowable Investment
                                                    = {{ assets_dto.total_allowed_amount|format_decimal }} BDT
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwelve">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseTwelve" aria-expanded="false"
                                    aria-controls="collapseTwelve">
                                {% if assets_dto.has_tax_deducted_at_source or assets_dto.has_no_tax_deducted_at_source %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px"></i></span>
                                {% endif %}
                                Tax Deducted At Source
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="Any deduction or collection of tax from income, interest on Bank Deposite."></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseTwelve" class="accordion-collapse collapse" aria-labelledby="headingTwelve"
                             data-bs-parent="#accordionRightIncome">
                            <div class="accordion-body hor-align-center">
                                <strong>Did any tax automatically get deducted from your income?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="taxDeductedAtSourceYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "tax_deducted_at_source" "yes" %}'" {{ assets_dto.has_tax_deducted_at_source }}>
                                    <label class="btn btn-outline-success" for="taxDeductedAtSourceYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="taxDeductedAtSourceNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "tax_deducted_at_source" "no" %}'" {{ assets_dto.has_no_tax_deducted_at_source }}>
                                    <label class="btn btn-outline-success" for="taxDeductedAtSourceNoBtn">No</label>
                                </div>
                                {% if assets_dto.has_tax_deducted_at_source %}
                                    <div style="padding-top: 20px">
                                        <table class="table table-striped table-bordered">
                                            <thead>
                                            <tr>
                                                <th scope="col">#</th>
                                                <th scope="col">Description</th>
                                                <th scope="col">Tax Deducted</th>
                                                <th scope="col"></th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            {% for deduction in assets_dto.source_deductions %}
                                                <tr>
                                                    <th scope="row">{{ forloop.counter }}</th>
                                                    <td>{{ deduction.get_description }}</td>
                                                    <td>{{ deduction.get_tax_deducted_at_source|format_decimal }}</td>
                                                    <td>
                                                        <a href="javascript:void(0)"
                                                           onclick="getDataForEdit('deduction_at_source', '{{ deduction.id }}')">
                                                            <i class="bi bi-pencil-square"
                                                               style="color: #2ca01c; padding-right: 5px; font-size: 1.2rem"></i></a>
                                                        <a href="#" data-bs-toggle="modal"
                                                           onclick="getDataForDelete('deduction_at_source', '{{ deduction.id }}')"
                                                           data-bs-target="#deductionAtSourceStaticBackdrop">
                                                            <i class="bi bi-trash"
                                                               style="color: red; padding-left: 5px; font-size: 1.2rem"></i></a>
                                                        <!-- Modal -->
                                                        <div class="modal fade" id="deductionAtSourceStaticBackdrop"
                                                             data-bs-backdrop="static"
                                                             data-bs-keyboard="false" tabindex="-1"
                                                             aria-labelledby="staticBackdropLabel" aria-hidden="true">
                                                            <div class="modal-dialog modal-dialog-centered">
                                                                <div class="modal-content">
                                                                    <div class="modal-header">
                                                                        <h5 class="modal-title"
                                                                            id="staticBackdropLabel">Delete
                                                                            Tax Deducted At Source</h5>
                                                                        <button type="button" class="btn-close"
                                                                                data-bs-dismiss="modal"
                                                                                aria-label="Close"></button>
                                                                    </div>
                                                                    <form action="{% url 'tax-deduction-at-source-delete' %}"
                                                                          method="POST">
                                                                        {% csrf_token %}
                                                                        <input type="hidden"
                                                                               id="deduction_id_for_delete"
                                                                               name="deduction_id_for_delete">
                                                                        <div class="modal-body"
                                                                             style="text-align: left">
                                                                            Are you sure you want to delete the tax
                                                                            deducted at source?
                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button"
                                                                                    class="btn btn-secondary"
                                                                                    data-bs-dismiss="modal">Cancel
                                                                            </button>
                                                                            <button type="submit"
                                                                                    class="btn btn-primary">
                                                                                Delete
                                                                            </button>
                                                                        </div>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                            {% endfor %}
                                            <tr>
                                                <form method="post"
                                                      action="{% url 'save-tax-deduction-at-source' %}">
                                                    {% csrf_token %}
                                                    <input type="hidden" id="deduction_id" name="deduction_id">
                                                    <td></td>
                                                    <td>{{ das_form.description }}</td>
                                                    <td>{{ das_form.tax_deducted_at_source }}</td>
                                                    <td>
                                                        <button type="submit" class="btn btn-primary"
                                                                id="deductionAtSourceSaveBtn">Save
                                                        </button>
                                                    </td>
                                                </form>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingThirteen">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseThirteen" aria-expanded="false"
                                    aria-controls="collapseThirteen">
                                {% if assets_dto.has_advance_paid_tax or assets_dto.has_no_advance_paid_tax %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px"></i></span>
                                {% endif %}
                                Advance Paid Tax
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="This is the amount of tax that the taxpayer chooses to pay ahead of time for the next financial year."></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseThirteen" class="accordion-collapse collapse" aria-labelledby="headingThirteen"
                             data-bs-parent="#accordionRightIncome">
                            <div class="accordion-body hor-align-center">
                                <strong>Did you pay any tax in advance?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="advancePaidTaxYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "advance_paid_tax" "yes" %}'" {{ assets_dto.has_advance_paid_tax }}>
                                    <label class="btn btn-outline-success" for="advancePaidTaxYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="advancePaidTaxNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "advance_paid_tax" "no" %}'" {{ assets_dto.has_no_advance_paid_tax }}>
                                    <label class="btn btn-outline-success" for="advancePaidTaxNoBtn">No</label>
                                </div>
                                {% if assets_dto.has_advance_paid_tax %}
                                    <div style="padding-top: 20px">
                                        <table class="table table-striped table-bordered">
                                            <thead>
                                            <tr>
                                                <th scope="col">#</th>
                                                <th scope="col">Type</th>
                                                <th scope="col">Description</th>
                                                <th scope="col">Paid Amount</th>
                                                <th scope="col"></th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            {% for advance in assets_dto.advance_tax_paid %}
                                                <tr>
                                                    <th scope="row">{{ forloop.counter }}</th>
                                                    <td>{{ advance.get_type }}</td>
                                                    <td>{{ advance.get_description }}</td>
                                                    <td>{{ advance.get_advance_paid_tax|format_decimal }}</td>
                                                    <td>
                                                        <a href="javascript:void(0)"
                                                           onclick="getDataForEdit('advance_tax_paid', '{{ advance.id }}')">
                                                            <i class="bi bi-pencil-square"
                                                               style="color: #2ca01c; padding-right: 5px; font-size: 1.2rem"></i></a>
                                                        <a href="#" data-bs-toggle="modal"
                                                           onclick="getDataForDelete('advance_tax_paid', '{{ advance.id }}')"
                                                           data-bs-target="#advancePaidTaxStaticBackdrop">
                                                            <i class="bi bi-trash"
                                                               style="color: red; padding-left: 5px; font-size: 1.2rem"></i></a>
                                                        <!-- Modal -->
                                                        <div class="modal fade" id="advancePaidTaxStaticBackdrop"
                                                             data-bs-backdrop="static"
                                                             data-bs-keyboard="false" tabindex="-1"
                                                             aria-labelledby="staticBackdropLabel" aria-hidden="true">
                                                            <div class="modal-dialog modal-dialog-centered">
                                                                <div class="modal-content">
                                                                    <div class="modal-header">
                                                                        <h5 class="modal-title"
                                                                            id="staticBackdropLabel">Delete
                                                                            Advance Paid Tax</h5>
                                                                        <button type="button" class="btn-close"
                                                                                data-bs-dismiss="modal"
                                                                                aria-label="Close"></button>
                                                                    </div>
                                                                    <form action="{% url 'advance-paid-tax-delete' %}"
                                                                          method="POST">
                                                                        {% csrf_token %}
                                                                        <input type="hidden"
                                                                               id="advance_paid_tax_id_for_delete"
                                                                               name="advance_paid_tax_id_for_delete">
                                                                        <div class="modal-body"
                                                                             style="text-align: left">
                                                                            Are you sure you want to delete the advance
                                                                            paid tax?
                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button"
                                                                                    class="btn btn-secondary"
                                                                                    data-bs-dismiss="modal">Cancel
                                                                            </button>
                                                                            <button type="submit"
                                                                                    class="btn btn-primary">
                                                                                Delete
                                                                            </button>
                                                                        </div>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                            {% endfor %}
                                            <tr>
                                                <form method="post"
                                                      action="{% url 'save-advance-paid-tax' %}">
                                                    {% csrf_token %}
                                                    <input type="hidden" id="advance_paid_tax_id"
                                                           name="advance_paid_tax_id">
                                                    <td></td>
                                                    <td>{{ atp_form.type }}</td>
                                                    <td>{{ atp_form.description }}</td>
                                                    <td>{{ atp_form.advance_paid_tax }}</td>
                                                    <td>
                                                        <button type="submit" class="btn btn-primary"
                                                                id="advanceTaxPaidSaveBtn">Save
                                                        </button>
                                                    </td>
                                                </form>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingFourteen">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseFourteen" aria-expanded="false"
                                    aria-controls="collapseFourteen">
                                {% if assets_dto.has_adjustment_of_tax_refund or assets_dto.has_no_adjustment_of_tax_refund %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px"></i></span>
                                {% endif %}
                                Adjustment Of Tax Refund
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="Adjust of tax refund if any tax refund claim on last year."></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseFourteen" class="accordion-collapse collapse" aria-labelledby="headingFourteen"
                             data-bs-parent="#accordionRightIncome">
                            <div class="accordion-body hor-align-center">
                                <strong>Did you have any adjustments to your tax refund?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="adjustmentOfTaxRefundYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "adjustment_of_tax_refund" "yes" %}'" {{ assets_dto.has_adjustment_of_tax_refund }}>
                                    <label class="btn btn-outline-success" for="adjustmentOfTaxRefundYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="adjustmentOfTaxRefundNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "adjustment_of_tax_refund" "no" %}'" {{ assets_dto.has_no_adjustment_of_tax_refund }}>
                                    <label class="btn btn-outline-success" for="adjustmentOfTaxRefundNoBtn">No</label>
                                </div>
                                {% if assets_dto.has_adjustment_of_tax_refund %}
                                    <div style="padding-top: 20px">
                                        <table class="table table-striped table-bordered">
                                            <thead>
                                            <tr>
                                                <th scope="col">#</th>
                                                <th scope="col">Adjustment Amount</th>
                                                <th scope="col"></th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            {% if assets_dto.taxRefundId %}
                                                <tr>
                                                    <th scope="row">1</th>
                                                    <td id="taxRefundData">{{ assets_dto.tax_refund|format_decimal }}</td>
                                                    <td>
                                                        <a href="javascript:void(0)"
                                                           onclick="populateTaxRefundData()">
                                                            <i class="bi bi-pencil-square"
                                                               style="color: #2ca01c; padding-right: 5px; font-size: 1.2rem"></i></a>
                                                        <a href="#" data-bs-toggle="modal"
                                                           data-bs-target="#taxRefundStaticBackdrop">
                                                            <i class="bi bi-trash"
                                                               style="color: red; padding-left: 5px; font-size: 1.2rem"></i></a>
                                                        <!-- Modal -->
                                                        <div class="modal fade" id="taxRefundStaticBackdrop"
                                                             data-bs-backdrop="static"
                                                             data-bs-keyboard="false" tabindex="-1"
                                                             aria-labelledby="staticBackdropLabel" aria-hidden="true">
                                                            <div class="modal-dialog modal-dialog-centered">
                                                                <div class="modal-content">
                                                                    <div class="modal-header">
                                                                        <h5 class="modal-title"
                                                                            id="staticBackdropLabel">Delete
                                                                            Adjustment Of Tax Refund</h5>
                                                                        <button type="button" class="btn-close"
                                                                                data-bs-dismiss="modal"
                                                                                aria-label="Close"></button>
                                                                    </div>
                                                                    <form action="{% url 'tax-refund-delete' assets_dto.taxRefundId %}"
                                                                          method="POST">
                                                                        {% csrf_token %}
                                                                        <div class="modal-body"
                                                                             style="text-align: left">
                                                                            Are you sure you want to delete the
                                                                            adjustment
                                                                            of tax refund?
                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button"
                                                                                    class="btn btn-secondary"
                                                                                    data-bs-dismiss="modal">Cancel
                                                                            </button>
                                                                            <button type="submit"
                                                                                    class="btn btn-primary">
                                                                                Delete
                                                                            </button>
                                                                        </div>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                            {% endif %}
                                            <tr id="taxRefundSaveOrUpdateRow"
                                                {% if assets_dto.taxRefundId and not assets_dto.has_form_error %}style="display: none"{% endif %}>
                                                <form method="post"
                                                      action="{% url 'save-tax-refund' %}">
                                                    {% csrf_token %}
                                                    <td></td>
                                                    <td>{{ tr_form.refund }}</td>
                                                    <td>
                                                        <button type="submit" class="btn btn-primary"
                                                                id="taxRefundSaveBtn">Save
                                                        </button>
                                                    </td>
                                                </form>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        $(document).ready(function () {
            let last = Cookies.get('activeAccordionGroupForAssets');

            if (last != null) {
                //remove default collapse settings
                $("#accordionLeftAssets .collapse").removeClass('show');
                $("#accordionLeftAssets .accordion-button").addClass('collapsed');
                //show the last visible group
                $("#" + last).addClass("show");
                let lastHeading = 'heading' + last.split("collapse")[1];
                $("#" + lastHeading + ' .accordion-button').removeClass("collapsed");
            } else {
                $("#collapseOne").addClass("show");
                $("#collapseOne" + ' .accordion-button').removeClass("collapsed");
            }
        });

        //when a group is shown, save it as the active accordion group
        $("#accordionLeftAssets").bind('shown.bs.collapse', function () {
            let active = $("#accordionLeftAssets .show").attr('id');
            Cookies.set('activeAccordionGroupForAssets', active);

            $("#accordionRightIncome .collapse").removeClass('show');
            $("#accordionRightIncome .accordion-button").addClass('collapsed');
        });

        $("#accordionRightIncome").bind('shown.bs.collapse', function () {
            let active = $("#accordionRightIncome .show").attr('id');
            Cookies.set('activeAccordionGroupForAssets', active);

            $("#accordionLeftAssets .collapse").removeClass('show');
            $("#accordionLeftAssets .accordion-button").addClass('collapsed');
        });

        function getDataForEdit(section, id) {
            let url = '{% url "get-data-for-edit" %}';
            let data = {};

            if (section === 'agricultural_property') {
                data = {
                    'section': section,
                    'id': id
                };
            } else if (section === 'advance_tax_paid') {
                data = {
                    'section': section,
                    'id': id
                };
            }

            $.ajax({
                type: 'GET',
                url: url,
                data: data,
                success: function (data) {
                    if (section === 'agricultural_property') {
                        setInputValue('agricultural_property_id', data['id']);
                        setInputValue('id_ap_description', data['description']);
                        setInputValue('id_value', addCommas(formatToTwoDecimalPlaces(data['value'])));
                        document.getElementById('agriculturalPropertySaveBtn').innerHTML = 'Update';
                    } else if (section === 'advance_tax_paid') {
                        setInputValue('advance_paid_tax_id', data['id']);
                        setInputValue('id_type', data['type']);
                        setInputValue('id_apt_description', data['description']);
                        setInputValue('id_advance_paid_tax', addCommas(formatToTwoDecimalPlaces(data['advance_paid_tax'])));
                        document.getElementById('advanceTaxPaidSaveBtn').innerHTML = 'Update';
                    }
                }
            });
        }

        function getDataForDelete(section, id) {
            if (section === 'agricultural_property') {
                setInputValue('agricultural_property_id_for_delete', id);
            } else if (section === 'advance_tax_paid') {
                setInputValue('advance_paid_tax_id_for_delete', id);
            }
        }

        function populateTaxRefundData() {
            document.getElementById('taxRefundSaveOrUpdateRow').style.display = "";
            setInputValue('id_refund', document.getElementById('taxRefundData').innerText);
            document.getElementById('taxRefundSaveBtn').innerHTML = 'Update';
        }

        function onInputBlurred(textBoxObject) {
            if (!isNaN(removeCommas(textBoxObject.value))) {
                textBoxObject.value = removeCommas(textBoxObject.value);
                textBoxObject.value = addCommas(formatToTwoDecimalPlaces(textBoxObject.value));
            }
        }

        $(window).scroll(function () {
            Cookies.set('scrollTopForAssets', $(this).scrollTop());
        });

        $(document).ready(function () {
            let scrollTop = Cookies.get('scrollTopForAssets')

            if (scrollTop != "undefined") {
                $(window).scrollTop(scrollTop);
            }
        });
    </script>
{% endblock content %}