{% extends "taxlover/base.html" %}
{% load tax_extras %}
{% block content %}
    <div class="container px-0">
        <div class="row gx-3">
            <div class="col">
                <div class="accordion" id="accordionLeftAssets">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingOne">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseOne"
                                    aria-expanded="true" aria-controls="collapseOne">
                                {% if assets_dto.has_business_capital or assets_dto.has_no_business_capital %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px;"></i></span>
                                {% endif %}
                                Business Capital
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="If taxpayer have any business than closing balance of the business capital will mention here."></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne"
                             data-bs-parent="#accordionLeftAssets">
                            <div class="accordion-body hor-align-center">
                                <strong>Do you have any business capital?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="businessCapitalYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "business_capital" "yes" %}'" {{ assets_dto.has_business_capital }}>
                                    <label class="btn btn-outline-success" for="businessCapitalYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="businessCapitalNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "business_capital" "no" %}'" {{ assets_dto.has_no_business_capital }}>
                                    <label class="btn btn-outline-success" for="businessCapitalNoBtn">No</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwo">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                {% if assets_dto.has_directors_shareholding_assets or assets_dto.has_no_directors_shareholding_assets %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px"></i></span>
                                {% endif %}
                                Director's Shareholding Assets
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="This refers the purchase cost of the share of director shareholding in limited company."></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                             data-bs-parent="#accordionLeftAssets">
                            <div class="accordion-body hor-align-center">
                                <strong>Do you have any shareholding company assets?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="directorsShareholdingAssetsYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "directors_shareholding_assets" "yes" %}'" {{ assets_dto.has_directors_shareholding_assets }}>
                                    <label class="btn btn-outline-success"
                                           for="directorsShareholdingAssetsYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="directorsShareholdingAssetsNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "directors_shareholding_assets" "no" %}'" {{ assets_dto.has_no_directors_shareholding_assets }}>
                                    <label class="btn btn-outline-success"
                                           for="directorsShareholdingAssetsNoBtn">No</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingThree">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                {% if assets_dto.has_non_agricultural_property or assets_dto.has_no_non_agricultural_property %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px"></i></span>
                                {% endif %}
                                Non-Agricultural Property
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="This refers the purchase cost of the non agricultural property with legal expense."></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
                             data-bs-parent="#accordionLeftAssets">
                            <div class="accordion-body hor-align-center">
                                <strong>Do you have any non-agricultural property?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="rentalPropertyYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "non_agricultural_property" "yes" %}'" {{ assets_dto.has_non_agricultural_property }}>
                                    <label class="btn btn-outline-success" for="rentalPropertyYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="rentalPropertyNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "non_agricultural_property" "no" %}'" {{ assets_dto.has_no_non_agricultural_property }}>
                                    <label class="btn btn-outline-success" for="rentalPropertyNoBtn">No</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingFour">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                {% if assets_dto.has_agricultural_property or assets_dto.has_no_agricultural_property %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px"></i></span>
                                {% endif %}
                                Agricultural Property
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="This refers the purchase cost of the agricultural property with legal expense."></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour"
                             data-bs-parent="#accordionLeftAssets">
                            <div class="accordion-body hor-align-center">
                                <strong>Do you have any agricultural property?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="agricultureYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "agricultural_property" "yes" %}'" {{ assets_dto.has_agricultural_property }}>
                                    <label class="btn btn-outline-success" for="agricultureYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="agricultureNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "agricultural_property" "no" %}'" {{ assets_dto.has_no_agricultural_property }}>
                                    <label class="btn btn-outline-success" for="agricultureNoBtn">No</label>
                                </div>
                                {% if assets_dto.has_agricultural_property %}
                                    <div style="padding-top: 20px">
                                        <table class="table table-striped table-bordered">
                                            <thead>
                                            <tr>
                                                <th scope="col">#</th>
                                                <th scope="col">Description</th>
                                                <th scope="col">Value</th>
                                                <th scope="col"></th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            {% for property in assets_dto.agricultural_properties %}
                                                <tr>
                                                    <th scope="row">{{ forloop.counter }}</th>
                                                    <td>{{ property.get_description }}</td>
                                                    <td>{{ property.get_value|format_decimal }}</td>
                                                    <td>
                                                        <a href="javascript:void(0)"
                                                           onclick="getDataForEdit('agricultural_property', '{{ property.id }}')">
                                                            <i class="bi bi-pencil-square"
                                                               style="color: #2ca01c; padding-right: 5px; font-size: 1.2rem"></i></a>
                                                        <a href="#" data-bs-toggle="modal"
                                                           onclick="getDataForDelete('agricultural_property', '{{ property.id }}')"
                                                           data-bs-target="#agriculturalPropertyStaticBackdrop">
                                                            <i class="bi bi-trash"
                                                               style="color: red; padding-left: 5px; font-size: 1.2rem"></i></a>
                                                        <!-- Modal -->
                                                        <div class="modal fade" id="agriculturalPropertyStaticBackdrop"
                                                             data-bs-backdrop="static"
                                                             data-bs-keyboard="false" tabindex="-1"
                                                             aria-labelledby="staticBackdropLabel" aria-hidden="true">
                                                            <div class="modal-dialog modal-dialog-centered">
                                                                <div class="modal-content">
                                                                    <div class="modal-header">
                                                                        <h5 class="modal-title"
                                                                            id="staticBackdropLabel">Delete
                                                                            Agricultural Property</h5>
                                                                        <button type="button" class="btn-close"
                                                                                data-bs-dismiss="modal"
                                                                                aria-label="Close"></button>
                                                                    </div>
                                                                    <form action="{% url 'agricultural-property-delete' %}"
                                                                          method="POST">
                                                                        {% csrf_token %}
                                                                        <input type="hidden"
                                                                               id="agricultural_property_id_for_delete"
                                                                               name="agricultural_property_id_for_delete">
                                                                        <div class="modal-body"
                                                                             style="text-align: left">
                                                                            Are you sure you want to delete the
                                                                            agricultural property?
                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button"
                                                                                    class="btn btn-secondary"
                                                                                    data-bs-dismiss="modal">Cancel
                                                                            </button>
                                                                            <button type="submit"
                                                                                    class="btn btn-primary">
                                                                                Delete
                                                                            </button>
                                                                        </div>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                            {% endfor %}
                                            <tr>
                                                <form method="post"
                                                      action="{% url 'save-agricultural-property' %}">
                                                    {% csrf_token %}
                                                    <input type="hidden" id="agricultural_property_id" name="agricultural_property_id">
                                                    <td></td>
                                                    <td>{{ ap_form.description }}</td>
                                                    <td>{{ ap_form.value }}</td>
                                                    <td>
                                                        <button type="submit" class="btn btn-primary"
                                                                id="agriculturalPropertySaveBtn">Save
                                                        </button>
                                                    </td>
                                                </form>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingFive">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                {% if assets_dto.has_investments or assets_dto.has_no_investments %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px"></i></span>
                                {% endif %}
                                Investments
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="An asset or item that is purchased with the hope that it will generate income or appreciate in the future."></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive"
                             data-bs-parent="#accordionLeftAssets">
                            <div class="accordion-body hor-align-center">
                                <strong>Do you have any investment?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="investmentsYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "investments" "yes" %}'" {{ assets_dto.has_investments }}>
                                    <label class="btn btn-outline-success" for="investmentsYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="investmentsNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "investments" "no" %}'" {{ assets_dto.has_no_investments }}>
                                    <label class="btn btn-outline-success" for="investmentsNoBtn">No</label>
                                </div>
                                {% if assets_dto.has_investments %}
                                    <div style="padding-top: 20px">
                                        <table class="table table-striped table-bordered">
                                            <thead>
                                            <tr>
                                                <th scope="col">#</th>
                                                <th scope="col">Type</th>
                                                <th scope="col">Description</th>
                                                <th scope="col">Value</th>
                                                <th scope="col"></th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            {% for investment in assets_dto.investments %}
                                                <tr>
                                                    <th scope="row">{{ forloop.counter }}</th>
                                                    <td>{{ investment.get_type }}</td>
                                                    <td>{{ investment.get_description }}</td>
                                                    <td>{{ investment.get_value|format_decimal }}</td>
                                                    <td>
                                                        <a href="{% url "investment-info" investment.id %}">
                                                            <i class="bi bi-pencil-square"
                                                               style="color: #2ca01c; padding-right: 5px; font-size: 1.2rem"></i></a>
                                                        <a href="#" data-bs-toggle="modal"
                                                           onclick="getDataForDelete('investment', '{{ investment.id }}')"
                                                           data-bs-target="#deleteInvestmentStaticBackdrop">
                                                            <i class="bi bi-trash"
                                                               style="color: red; padding-left: 5px; font-size: 1.2rem"></i></a>
                                                        <!-- Modal -->
                                                        <div class="modal fade" id="deleteInvestmentStaticBackdrop"
                                                             data-bs-backdrop="static"
                                                             data-bs-keyboard="false" tabindex="-1"
                                                             aria-labelledby="staticBackdropLabel" aria-hidden="true">
                                                            <div class="modal-dialog modal-dialog-centered">
                                                                <div class="modal-content">
                                                                    <div class="modal-header">
                                                                        <h5 class="modal-title"
                                                                            id="staticBackdropLabel">Delete
                                                                            Investment</h5>
                                                                        <button type="button" class="btn-close"
                                                                                data-bs-dismiss="modal"
                                                                                aria-label="Close"></button>
                                                                    </div>
                                                                    <form action="{% url 'investment-delete' %}"
                                                                          method="POST">
                                                                        {% csrf_token %}
                                                                        <input type="hidden"
                                                                               id="investment_id_for_delete"
                                                                               name="investment_id_for_delete">
                                                                        <div class="modal-body"
                                                                             style="text-align: left">
                                                                            Are you sure you want to delete the investment?
                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button"
                                                                                    class="btn btn-secondary"
                                                                                    data-bs-dismiss="modal">Cancel
                                                                            </button>
                                                                            <button type="submit"
                                                                                    class="btn btn-primary">
                                                                                Delete
                                                                            </button>
                                                                        </div>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                            {% endfor %}
                                            <tr>
                                                <td colspan="5">
                                                    <a class="btn btn-outline-success btn-sm"
                                                       href="{% url "investment-info" 0 %}" role="button">
                                                        <i class="bi bi-plus-circle"></i>
                                                        &nbsp;Add Investment&nbsp;
                                                    </a>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingSix">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
                                {% if assets_dto.has_motor_vehicle or assets_dto.has_no_motor_vehicle %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px"></i></span>
                                {% endif %}
                                Motor Vehicle
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="This refers the purchase cost of all personal and family motor vehicle as like: car, bike etc."></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseSix" class="accordion-collapse collapse" aria-labelledby="headingSix"
                             data-bs-parent="#accordionLeftAssets">
                            <div class="accordion-body hor-align-center">
                                <strong>Do you have any motor vehicle?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="motorVehicleYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "motor_vehicle" "yes" %}'" {{ assets_dto.has_motor_vehicle }}>
                                    <label class="btn btn-outline-success" for="motorVehicleYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="motorVehicleNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "motor_vehicle" "no" %}'" {{ assets_dto.has_no_motor_vehicle }}>
                                    <label class="btn btn-outline-success" for="motorVehicleNoBtn">No</label>
                                </div>
                                {% if assets_dto.has_motor_vehicle %}
                                    <div style="padding-top: 20px">
                                        <table class="table table-striped table-bordered">
                                            <thead>
                                            <tr>
                                                <th scope="col">#</th>
                                                <th scope="col">Vehicle<br/>Brand/Type</th>
                                                <th scope="col">Registration<br/>No.</th>
                                                <th scope="col">Engine<br/>(CC)</th>
                                                <th scope="col">Value</th>
                                                <th scope="col"></th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            {% for motor_vehicle in assets_dto.motor_vehicles %}
                                                <tr>
                                                    <th scope="row">{{ forloop.counter }}</th>
                                                    <td>{{ motor_vehicle.get_brand_or_type }}</td>
                                                    <td>{{ motor_vehicle.get_reg_no }}</td>
                                                    <td>{{ motor_vehicle.get_engine_capacity }}</td>
                                                    <td>{{ motor_vehicle.get_value|format_decimal }}</td>
                                                    <td>
                                                        <a href="{% url "motor-vehicle-info" motor_vehicle.id %}">
                                                            <i class="bi bi-pencil-square"
                                                               style="color: #2ca01c; padding-right: 5px; font-size: 1.2rem"></i></a>
                                                        <a href="#" data-bs-toggle="modal"
                                                           onclick="getDataForDelete('motor-vehicle', '{{ motor_vehicle.id }}')"
                                                           data-bs-target="#deleteMotorVehicleStaticBackdrop">
                                                            <i class="bi bi-trash"
                                                               style="color: red; padding-left: 5px; font-size: 1.2rem"></i></a>
                                                        <!-- Modal -->
                                                        <div class="modal fade" id="deleteMotorVehicleStaticBackdrop"
                                                             data-bs-backdrop="static"
                                                             data-bs-keyboard="false" tabindex="-1"
                                                             aria-labelledby="staticBackdropLabel" aria-hidden="true">
                                                            <div class="modal-dialog modal-dialog-centered">
                                                                <div class="modal-content">
                                                                    <div class="modal-header">
                                                                        <h5 class="modal-title"
                                                                            id="staticBackdropLabel">Delete
                                                                            Motor Vehicle</h5>
                                                                        <button type="button" class="btn-close"
                                                                                data-bs-dismiss="modal"
                                                                                aria-label="Close"></button>
                                                                    </div>
                                                                    <form action="{% url 'motor-vehicle-delete' %}"
                                                                          method="POST">
                                                                        {% csrf_token %}
                                                                        <input type="hidden"
                                                                               id="motor_vehicle_id_for_delete"
                                                                               name="motor_vehicle_id_for_delete">
                                                                        <div class="modal-body"
                                                                             style="text-align: left">
                                                                            Are you sure you want to delete the
                                                                            motor vehicle?
                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button"
                                                                                    class="btn btn-secondary"
                                                                                    data-bs-dismiss="modal">Cancel
                                                                            </button>
                                                                            <button type="submit"
                                                                                    class="btn btn-primary">
                                                                                Delete
                                                                            </button>
                                                                        </div>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                            {% endfor %}
                                            <tr>
                                                <td colspan="6">
                                                    <a class="btn btn-outline-success btn-sm"
                                                       href="{% url "motor-vehicle-info" 0 %}" role="button">
                                                        <i class="bi bi-plus-circle"></i>
                                                        &nbsp;Add Motor Vehicle&nbsp;
                                                    </a>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingSeven">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseSeven" aria-expanded="false" aria-controls="collapseSeven">
                                {% if assets_dto.has_furniture or assets_dto.has_no_furniture %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px"></i></span>
                                {% endif %}
                                Furniture
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="This refers all kinds residential and family furniture in purchase cost. As like : Cot, Sofa, Almirah, Showcase etc."></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseSeven" class="accordion-collapse collapse" aria-labelledby="headingSeven"
                             data-bs-parent="#accordionLeftAssets">
                            <div class="accordion-body hor-align-center">
                                <strong>Do you have any furniture?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="furnitureYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "furniture" "yes" %}'" {{ assets_dto.has_furniture }}>
                                    <label class="btn btn-outline-success" for="furnitureYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="furnitureNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "furniture" "no" %}'" {{ assets_dto.has_no_furniture }}>
                                    <label class="btn btn-outline-success" for="furnitureNoBtn">No</label>
                                </div>
                                {% if assets_dto.has_furniture %}
                                    <div style="padding-top: 20px">
                                        <table class="table table-striped table-bordered">
                                            <thead>
                                            <tr>
                                                <th scope="col">#</th>
                                                <th scope="col">Description</th>
                                                <th scope="col">Value</th>
                                                <th scope="col"></th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            {% for furniture in assets_dto.furnitures %}
                                                <tr>
                                                    <th scope="row">{{ forloop.counter }}</th>
                                                    <td>{{ furniture.get_description }}</td>
                                                    <td>{{ furniture.get_value|format_decimal }}</td>
                                                    <td>
                                                        <a href="javascript:void(0)"
                                                           onclick="getDataForEdit('furniture', '{{ furniture.id }}')">
                                                            <i class="bi bi-pencil-square"
                                                               style="color: #2ca01c; padding-right: 5px; font-size: 1.2rem"></i></a>
                                                        <a href="#" data-bs-toggle="modal"
                                                           onclick="getDataForDelete('furniture', '{{ furniture.id }}')"
                                                           data-bs-target="#furnitureStaticBackdrop">
                                                            <i class="bi bi-trash"
                                                               style="color: red; padding-left: 5px; font-size: 1.2rem"></i></a>
                                                        <!-- Modal -->
                                                        <div class="modal fade" id="furnitureStaticBackdrop"
                                                             data-bs-backdrop="static"
                                                             data-bs-keyboard="false" tabindex="-1"
                                                             aria-labelledby="staticBackdropLabel" aria-hidden="true">
                                                            <div class="modal-dialog modal-dialog-centered">
                                                                <div class="modal-content">
                                                                    <div class="modal-header">
                                                                        <h5 class="modal-title"
                                                                            id="staticBackdropLabel">Delete
                                                                            Furniture</h5>
                                                                        <button type="button" class="btn-close"
                                                                                data-bs-dismiss="modal"
                                                                                aria-label="Close"></button>
                                                                    </div>
                                                                    <form action="{% url 'furniture-delete' %}"
                                                                          method="POST">
                                                                        {% csrf_token %}
                                                                        <input type="hidden"
                                                                               id="furniture_id_for_delete"
                                                                               name="furniture_id_for_delete">
                                                                        <div class="modal-body"
                                                                             style="text-align: left">
                                                                            Are you sure you want to delete the
                                                                            furniture?
                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button"
                                                                                    class="btn btn-secondary"
                                                                                    data-bs-dismiss="modal">Cancel
                                                                            </button>
                                                                            <button type="submit"
                                                                                    class="btn btn-primary">
                                                                                Delete
                                                                            </button>
                                                                        </div>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                            {% endfor %}
                                            <tr>
                                                <form method="post"
                                                      action="{% url 'save-furniture' %}">
                                                    {% csrf_token %}
                                                    <input type="hidden" id="furniture_id"
                                                           name="furniture_id">
                                                    <td></td>
                                                    <td>{{ f_form.description }}</td>
                                                    <td>{{ f_form.value }}</td>
                                                    <td>
                                                        <button type="submit" class="btn btn-primary"
                                                                id="furnitureSaveBtn">Save
                                                        </button>
                                                    </td>
                                                </form>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="accordion" id="accordionRightAssets">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingEight">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseEight" aria-expanded="false" aria-controls="collapseEight">
                                {% if assets_dto.has_jewellery or assets_dto.has_no_jewellery %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px"></i></span>
                                {% endif %}
                                Jewellery
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="This refers the quantity and value of jewellery at purchase cost. As like: Gold, Silver or Diamond Jewellery."></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseEight" class="accordion-collapse collapse" aria-labelledby="headingEight"
                             data-bs-parent="#accordionRightAssets">
                            <div class="accordion-body hor-align-center">
                                <strong>Do you have any jewellery?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="jewelleryYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "jewellery" "yes" %}'" {{ assets_dto.has_jewellery }}>
                                    <label class="btn btn-outline-success" for="jewelleryYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="jewelleryNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "jewellery" "no" %}'" {{ assets_dto.has_no_jewellery }}>
                                    <label class="btn btn-outline-success" for="jewelleryNoBtn">No</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingNine">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseNine" aria-expanded="false" aria-controls="collapseNine">
                                {% if assets_dto.has_electronic_equipment or assets_dto.has_no_electronic_equipment %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px"></i></span>
                                {% endif %}
                                Electronic Equipment
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="This refers all kinds residential and family use electric equipment in purchase cost. As like : TV, Freeze, AC, Personal Computer etc."></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseNine" class="accordion-collapse collapse" aria-labelledby="headingNine"
                             data-bs-parent="#accordionRightAssets">
                            <div class="accordion-body hor-align-center">
                                <strong>Do you have any electronic equipment?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="otherSourcesYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "electronic_equipment" "yes" %}'" {{ assets_dto.has_electronic_equipment }}>
                                    <label class="btn btn-outline-success" for="otherSourcesYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="otherSourcesNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "electronic_equipment" "no" %}'" {{ assets_dto.has_no_electronic_equipment }}>
                                    <label class="btn btn-outline-success" for="otherSourcesNoBtn">No</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTen">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseTen" aria-expanded="false" aria-controls="collapseTen">
                                {% if assets_dto.has_cash_assets or assets_dto.has_no_cash_assets %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px"></i></span>
                                {% endif %}
                                Cash Asset Outside Business
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="Cash or deposit asset those are outside of business or profession."></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseTen" class="accordion-collapse collapse" aria-labelledby="headingTen"
                             data-bs-parent="#accordionRightAssets">
                            <div class="accordion-body hor-align-center">
                                <strong>Do you have any cash assets outside business?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="foreignIncomeYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "cash_assets" "yes" %}'" {{ assets_dto.has_cash_assets }}>
                                    <label class="btn btn-outline-success" for="foreignIncomeYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="foreignIncomeNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "cash_assets" "no" %}'" {{ assets_dto.has_no_cash_assets }}>
                                    <label class="btn btn-outline-success" for="foreignIncomeNoBtn">No</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingEleven">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseEleven" aria-expanded="false"
                                    aria-controls="collapseEleven">
                                {% if assets_dto.has_other_assets or assets_dto.has_no_other_assets %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px"></i></span>
                                {% endif %}
                                Other Assets
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="Any other assets except the previously stated assets purchased on or before June 30."></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseEleven" class="accordion-collapse collapse" aria-labelledby="headingEleven"
                             data-bs-parent="#accordionRightAssets">
                            <div class="accordion-body hor-align-center">
                                <strong>Do you have any other assets?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="taxRebateYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "other_assets" "yes" %}'" {{ assets_dto.has_other_assets }}>
                                    <label class="btn btn-outline-success" for="taxRebateYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="taxRebateNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "other_assets" "no" %}'" {{ assets_dto.has_no_other_assets }}>
                                    <label class="btn btn-outline-success" for="taxRebateNoBtn">No</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwelve">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseTwelve" aria-expanded="false"
                                    aria-controls="collapseTwelve">
                                {% if assets_dto.has_other_assets_receipt or assets_dto.has_no_other_assets_receipt %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px"></i></span>
                                {% endif %}
                                Other Assets Receipt
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="A unit of ownership that represents an equal proportion of a company's capital."></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseTwelve" class="accordion-collapse collapse" aria-labelledby="headingTwelve"
                             data-bs-parent="#accordionRightAssets">
                            <div class="accordion-body hor-align-center">
                                <strong>Do you have any receipt?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="taxDeductedAtSourceYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "other_assets_receipt" "yes" %}'" {{ assets_dto.has_other_assets_receipt }}>
                                    <label class="btn btn-outline-success" for="taxDeductedAtSourceYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="taxDeductedAtSourceNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "other_assets_receipt" "no" %}'" {{ assets_dto.has_no_other_assets_receipt }}>
                                    <label class="btn btn-outline-success" for="taxDeductedAtSourceNoBtn">No</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingThirteen">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseThirteen" aria-expanded="false"
                                    aria-controls="collapseThirteen">
                                {% if assets_dto.has_previous_year_net_wealth or assets_dto.has_no_previous_year_net_wealth %}
                                    <span><i class="bi bi-check-circle-fill"
                                             style="color: #2ca01c; padding-right: 7px"></i></span>
                                {% endif %}
                                Previous Year Net Wealth
                                <sup style="padding-left: 5px;">
                                    <i class="bi bi-info-circle" style="color: red; font-size: 14px"
                                       data-bs-toggle="tooltip" data-bs-placement="right"
                                       title="Net wealth shown in the previous year return statement."></i>
                                </sup>
                            </button>
                        </h2>
                        <div id="collapseThirteen" class="accordion-collapse collapse" aria-labelledby="headingThirteen"
                             data-bs-parent="#accordionRightAssets">
                            <div class="accordion-body hor-align-center">
                                <strong>Do you have any net wealth?</strong>
                                <br/>
                                <div class="btn-group padding-top-8" role="group" aria-label="Yes No Buttons">
                                    <input type="checkbox" class="btn-check" id="advancePaidTaxYesBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "previous_year_net_wealth" "yes" %}'" {{ assets_dto.has_previous_year_net_wealth }}>
                                    <label class="btn btn-outline-success" for="advancePaidTaxYesBtn">Yes</label>
                                    <input type="checkbox" class="btn-check" id="advancePaidTaxNoBtn"
                                           autocomplete="off"
                                           onclick="location.href='{% url "save-assets-data" "previous_year_net_wealth" "no" %}'" {{ assets_dto.has_no_previous_year_net_wealth }}>
                                    <label class="btn btn-outline-success" for="advancePaidTaxNoBtn">No</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        $(document).ready(function () {
            let last = Cookies.get('activeAccordionGroupForAssets');

            if (last != null) {
                //remove default collapse settings
                $("#accordionLeftAssets .collapse").removeClass('show');
                $("#accordionLeftAssets .accordion-button").addClass('collapsed');
                //show the last visible group
                $("#" + last).addClass("show");
                let lastHeading = 'heading' + last.split("collapse")[1];
                $("#" + lastHeading + ' .accordion-button').removeClass("collapsed");
            } else {
                $("#collapseOne").addClass("show");
                $("#collapseOne" + ' .accordion-button').removeClass("collapsed");
            }
        });

        //when a group is shown, save it as the active accordion group
        $("#accordionLeftAssets").bind('shown.bs.collapse', function () {
            let active = $("#accordionLeftAssets .show").attr('id');
            Cookies.set('activeAccordionGroupForAssets', active);

            $("#accordionRightAssets .collapse").removeClass('show');
            $("#accordionRightAssets .accordion-button").addClass('collapsed');
        });

        $("#accordionRightAssets").bind('shown.bs.collapse', function () {
            let active = $("#accordionRightAssets .show").attr('id');
            Cookies.set('activeAccordionGroupForAssets', active);

            $("#accordionLeftAssets .collapse").removeClass('show');
            $("#accordionLeftAssets .accordion-button").addClass('collapsed');
        });

        function getDataForEdit(section, id) {
            let url = '{% url "get-data-for-edit" %}';
            let data = {};

            if (section === 'agricultural_property') {
                data = {
                    'section': section,
                    'id': id
                };
            } else if (section === 'furniture') {
                data = {
                    'section': section,
                    'id': id
                };
            }

            $.ajax({
                type: 'GET',
                url: url,
                data: data,
                success: function (data) {
                    if (section === 'agricultural_property') {
                        setInputValue('agricultural_property_id', data['id']);
                        setInputValue('id_ap_description', data['description']);
                        setInputValue('id_ap_value', addCommas(formatToTwoDecimalPlaces(data['value'])));
                        document.getElementById('agriculturalPropertySaveBtn').innerHTML = 'Update';
                    } else if (section === 'furniture') {
                        setInputValue('furniture_id', data['id']);
                        setInputValue('id_f_description', data['description']);
                        setInputValue('id_f_value', addCommas(formatToTwoDecimalPlaces(data['value'])));
                        document.getElementById('furnitureSaveBtn').innerHTML = 'Update';
                    }
                }
            });
        }

        function getDataForDelete(section, id) {
            if (section === 'agricultural_property') {
                setInputValue('agricultural_property_id_for_delete', id);
            } else if (section === 'investment') {
                setInputValue('investment_id_for_delete', id);
            } else if (section === 'motor-vehicle') {
                setInputValue('motor_vehicle_id_for_delete', id);
            } else if (section === 'furniture') {
                setInputValue('furniture_id_for_delete', id);
            }
        }

        function onInputBlurred(textBoxObject) {
            if (!isNaN(removeCommas(textBoxObject.value))) {
                textBoxObject.value = removeCommas(textBoxObject.value);
                textBoxObject.value = addCommas(formatToTwoDecimalPlaces(textBoxObject.value));
            }
        }

        $(window).scroll(function () {
            Cookies.set('scrollTopForAssets', $(this).scrollTop());
        });

        $(document).ready(function () {
            let scrollTop = Cookies.get('scrollTopForAssets')

            if (scrollTop != "undefined") {
                $(window).scrollTop(scrollTop);
            }
        });
    </script>
{% endblock content %}